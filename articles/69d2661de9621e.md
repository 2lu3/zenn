---
title: "firewall-cmdãƒãƒ¼ãƒˆã‚·ãƒ¼ãƒˆ"
emoji: "ğŸ·"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ['linux', 'firewall', 'firewall-cmd', 'ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£']
published: true
---

# Zone


## Zoneæƒ…å ±

```bash
# zoneä¸€è¦§ã‚’è¡¨ç¤º
firewall-cmd --get-zones

# ã™ã¹ã¦ã®Zoneã®è¨­å®šçŠ¶æ³ã‚’ç¢ºèªã™ã‚‹
firewall-cmd --list-all-zones

# ç‰¹å®šã®Zoneã®æƒ…å ±ã‚’èª¿ã¹ã‚‹
firewall-cmd --list-all --zone=ã‚¾ãƒ¼ãƒ³å
```

## ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆZone

```bash
# è¡¨ç¤º
firewall-cmd --get-default-zones
# è¨­å®š
firewall-cmd --set-default-zone=ã‚¾ãƒ¼ãƒ³å
```

# NIC

```bash
# NICã«å‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¦ã„ã‚‹Zoneä¸€è¦§
firewall-cmd --get-active-zones

# ç‰¹å®šã®NICã«å‰²ã‚Šå½“ã¦ã‚‰ã‚ŒãŸZoneã‚’ç¢ºèªã™ã‚‹
firewall-cmd --get-zone-of-interface=NICå

# NICã‚’Zoneã«ç™»éŒ²
firewall-cmd --change-interface=NICå --zone=ã‚¾ãƒ¼ãƒ³å
```


# Service

```bash
# Zoneã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’è¡¨ç¤º
firewall-cmd --list-service --zone=ã‚¾ãƒ¼ãƒ³å

# Zoneã«è¨±å¯ã‚µãƒ¼ãƒ“ã‚¹ã‚’ç™»éŒ²
firewall-cmd --add-service=ã‚µãƒ¼ãƒ“ã‚¹å --zone=ã‚¾ãƒ¼ãƒ³å

# Zoneã®è¨±å¯ã‚µãƒ¼ãƒ“ã‚¹ã‚’å‰Šé™¤
firewall-cmd --remove-service=ã‚µãƒ¼ãƒ“ã‚¹å --zone=ã‚¾ãƒ¼ãƒ³å
```

# Port

```bash
# Zoneã®ãƒãƒ¼ãƒˆã‚’è¡¨ç¤º
firewall-cmd --list-ports --zone=ã‚¾ãƒ¼ãƒ³å

# Zoneã«è¨±å¯ãƒãƒ¼ãƒˆã‚’ç™»éŒ²
firewall-cmd --add-port=ãƒãƒ¼ãƒˆå --zone=ã‚¾ãƒ¼ãƒ³å

# Zoneã®è¨±å¯ãƒãƒ¼ãƒˆã‚’å‰Šé™¤
firewall-cmd --remove-port=ãƒãƒ¼ãƒˆå --zone=ã‚¾ãƒ¼ãƒ³å
```



# ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

## firewall-cmdã‚’çµ‚äº†ã—ã¦ã‚‚å¤‰æ›´ã•ã‚Œãªã„å ´åˆ

firewall-cmdã§sshæ¥ç¶šã‚’è¨±å¯ã—ãŸã¯ãšãªã®ã«åæ˜ ã•ã‚Œãªã‹ã£ãŸå ´åˆã€iptablesã‚’ç›´æ¥ã„ã˜ã‚Šã€ãã®å¾Œfirewall-cmdã§ã‚‚ã†ä¸€åº¦è¨­å®šã™ã‚‹ã¨ã‚ã‹ã‚Šã‚„ã™ã„ã€‚

```bash
# iptablesã®çŠ¶æ³ã‚’ç¢ºèª
sudo iptables -L

# ã™ã¹ã¦è¨±å¯ã«è¨­å®šã™ã‚‹
sudo iptables -P INPUT ACCEPT
sudo iptables -P FORWARD ACCEPT
sudo iptables -P OUTPUT ACCEPT
```

# å‚è€ƒè¨˜äº‹

- [firewall-cmdã®ä½¿ã„æ–¹ ã¯ã˜ã‚ã®ä¸€æ­© - Qiita](https://qiita.com/daikumatan/items/0fe4a8ee5e59965814ee#nic%E3%82%92%E6%89%80%E6%9C%9B%E3%81%AEzone%E3%81%B8%E7%99%BB%E9%8C%B2%E3%81%99%E3%82%8B-zone%E3%81%AEactive%E5%8C%96)
